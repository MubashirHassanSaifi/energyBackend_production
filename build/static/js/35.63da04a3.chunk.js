(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[35],{1729:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(594),c=a(1177),i=a(377),l=a(29),s=a(26),m=a(2),u=a(1184),p=a(1216),d=a(1187),b=a(78),g=a(1225),f=a.n(g),h=Object(o.a)((function(){return{root:{}}}));var v=function(e){var t=e.className,a=Object(l.a)(e,["className"]),n=h();return r.a.createElement(u.a,Object.assign({className:Object(m.default)(n.root,t),container:!0,justify:"space-between",spacing:3},a),r.a.createElement(u.a,{item:!0},r.a.createElement(p.a,{separator:r.a.createElement(f.a,{fontSize:"small"}),"aria-label":"breadcrumb"},r.a.createElement(d.a,{variant:"body1",color:"inherit",to:"/app",component:s.a},"Dashboard"),r.a.createElement(b.a,{variant:"body1",color:"textPrimary"},"Complaint")),r.a.createElement(b.a,{variant:"h3",color:"textPrimary"},"Create a new complaint")))},E=a(17),j=a.n(E),y=a(41),k=a(33),x=a(31),q=a(1237),O=a(1239),S=a(114),C=a(1443),w=a.n(C),N=a(38),B=a.n(N),T=a(1170),F=a(1173),_=a(1150),z=a(368),L=a(173),R=a(1128),W=a(1174),D=a(1183),H=a(1138),I=a(1447),J=a.n(I),P=Object(o.a)((function(e){return{root:{"& .ql-toolbar":{borderLeft:"none",borderTop:"none",borderRight:"none",borderBottom:"1px solid ".concat(e.palette.divider),"& .ql-picker-label:hover":{color:e.palette.secondary.main},"& .ql-picker-label.ql-active":{color:e.palette.secondary.main},"& .ql-picker-item:hover":{color:e.palette.secondary.main},"& .ql-picker-item.ql-selected":{color:e.palette.secondary.main},"& button:hover":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button:focus":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button.ql-active":{"& .ql-stroke":{stroke:e.palette.secondary.main}},"& .ql-stroke":{stroke:e.palette.text.primary},"& .ql-picker":{color:e.palette.text.primary},"& .ql-picker-options":{padding:e.spacing(2),backgroundColor:e.palette.background.default,border:"none",boxShadow:e.shadows[10],borderRadius:e.shape.borderRadius}},"& .ql-container":{border:"none","& .ql-editor":{fontFamily:e.typography.fontFamily,fontSize:16,color:e.palette.text.primary,"&.ql-blank::before":{color:e.palette.text.secondary}}}},stepButton:{"& + &":{marginLeft:e.spacing(2)}}}}));var V=function(e){var t=e.className,a=Object(l.a)(e,["className"]),n=P();return r.a.createElement(J.a,Object.assign({className:Object(m.default)(n.root,t)},a))};a(96),a(20),a(1701),a(145),a(1131),a(1132),a(1189),a(1141),Object(o.a)((function(e){return{root:{},dropZone:{border:"1px dashed ".concat(e.palette.divider),padding:e.spacing(6),outline:"none",display:"flex",justifyContent:"center",flexWrap:"wrap",alignItems:"center","&:hover":{backgroundColor:e.palette.action.hover,opacity:.5,cursor:"pointer"}},dragActive:{backgroundColor:e.palette.action.active,opacity:.5},image:{width:130},info:{marginTop:e.spacing(1)},list:{maxHeight:320},actions:{marginTop:e.spacing(2),display:"flex",justifyContent:"flex-end","& > * + *":{marginLeft:e.spacing(2)}}}}));var A=Object(o.a)((function(){return{root:{},editor:{"& .ql-editor":{height:400}},image:{width:130}}}));var U=function(e){var t=e.className,a=Object(l.a)(e,["className"]),o=A(),c=Object(n.useState)([]),i=Object(k.a)(c,2),s=i[0],p=i[1],d=Object(S.useSnackbar)().enqueueSnackbar,g=Object(x.d)((function(e){return e.account.user})),f=function(e){p(s.concat(e))};return r.a.createElement(O.a,{initialValues:{description:"",images:[]},validationSchema:q.c().shape({description:q.e().max(5e3),images:q.a(),subject:q.e().max(255).required()}),onSubmit:function(){var e=Object(y.a)(j.a.mark((function e(t,a){var n,r,o,c,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setErrors,r=a.setStatus,o=a.setSubmitting,c={subject:t.subject,userid:g._id,username:g.username,sensor:g.userid,description:t.description},i={headers:{"content-type":"application/json"}},e.prev=3,e.next=6,B.a.post("http://localhost:5000/admin/newComplaint",c,i);case 6:l=e.sent,console.log(l),r({success:!0}),o(!1),d(l.data,{variant:"success"}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),n({submit:e.t0.response.data}),r({success:!1}),o(!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var n=e.errors,c=e.handleBlur,i=e.handleChange,l=e.handleSubmit,s=e.isSubmitting,p=e.setFieldValue,d=e.touched,g=e.values;return r.a.createElement("form",Object.assign({onSubmit:l,className:Object(m.default)(o.root,t)},a),r.a.createElement(u.a,{container:!0,spacing:3},r.a.createElement(u.a,{item:!0,xs:12,lg:8},r.a.createElement(T.a,null,r.a.createElement(F.a,null,r.a.createElement(_.a,{error:Boolean(d.subject&&n.subject),fullWidth:!0,helperText:d.subject&&n.subject,label:"Complaint Subject",name:"subject",onBlur:c,onChange:i,value:g.subject,variant:"outlined"}),r.a.createElement(z.a,{mt:3,mb:1},r.a.createElement(b.a,{variant:"subtitle2",color:"textSecondary"},"Description")),r.a.createElement(L.a,{variant:"outlined"},r.a.createElement(V,{className:o.editor,value:g.description,onChange:function(e){return p("description",e)}})),d.description&&n.description&&r.a.createElement(z.a,{mt:2},r.a.createElement(R.a,{error:!0},n.description)))),r.a.createElement(z.a,{mt:3},r.a.createElement(T.a,null,r.a.createElement(W.a,{title:"Upload Snapshots"}),r.a.createElement(D.a,null),r.a.createElement(F.a,null,r.a.createElement("img",{alt:"Select file",className:o.image,src:"/static/images/undraw_add_file2_gvbb.svg"}),r.a.createElement(w.a,{withIcon:!1,buttonText:"Choose images",onChange:f,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:5242880})))))),n.submit&&r.a.createElement(z.a,{mt:3},r.a.createElement(R.a,{error:!0},n.submit)),r.a.createElement(z.a,{mt:2},r.a.createElement(H.a,{color:"secondary",variant:"contained",type:"submit",disabled:s},"Submit Complaint")))}))},Z=Object(o.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:100}}}));t.default=function(){var e=Z();return r.a.createElement(i.a,{className:e.root,title:"Create Complaint"},r.a.createElement(c.a,{maxWidth:"lg"},r.a.createElement(v,null),r.a.createElement(U,null)))}}}]);
//# sourceMappingURL=35.63da04a3.chunk.js.map